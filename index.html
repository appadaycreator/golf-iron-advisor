<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゴルフアイアン適性診断 - あなたに最適なアイアンを見つけよう</title>
    <meta name="description" content="あなたに最適なゴルフアイアンを診断。スイング特性や体格から推奨クラブを提案する無料ツール">
    <meta name="keywords" content="ゴルフ,アイアン,診断,クラブ選び,スイング分析,適性,ゴルフクラブ">
    
    <!-- OGP設定 -->
    <meta property="og:title" content="ゴルフアイアン適性診断">
    <meta property="og:description" content="あなたに最適なアイアンを診断">
    <meta property="og:image" content="./assets/images/ogp-image.png">
    <meta property="og:url" content="https://appadaycreator.github.io/golf-iron-advisor/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ゴルフアイアン適性診断">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ゴルフアイアン適性診断">
    <meta name="twitter:description" content="あなたに最適なアイアンを診断">
    <meta name="twitter:image" content="./assets/images/ogp-image.png">
    
    <!-- PWA設定 -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#2ECC71">
    <link rel="apple-touch-icon" href="./assets/images/icons/icon-192x192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    
    <!-- 構造化データ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "ゴルフアイアン適性診断",
        "description": "スイング診断による最適アイアン推奨",
        "url": "https://appadaycreator.github.io/golf-iron-advisor/",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "JPY"
        }
    }
    </script>
</head>
<body>
    <div id="app">
        <!-- ヘッダー -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <img src="./assets/images/logo.svg" alt="ゴルフアイアン適性診断" />
                        <h1>ゴルフアイアン適性診断</h1>
                    </div>
                    <nav class="nav">
                        <ul>
                            <li><a href="./lp.html">ホーム</a></li>
                            <li><a href="./how-to-use.html">使い方</a></li>
                            <li><a href="./contact.html">お問い合わせ</a></li>
                        </ul>
                    </nav>
                    <div class="language-switcher">
                        <select id="language-select">
                            <option value="ja">日本語</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <!-- メインコンテンツ -->
        <main class="main">
            <div class="container">
                <!-- 診断開始セクション -->
                <section id="start-section" class="section">
                    <div class="hero">
                        <h2>あなたに最適なアイアンを見つけよう</h2>
                        <p>スイング特性や体格から、最適なアイアンクラブとシャフトの組み合わせを診断します</p>
                        <button id="start-diagnosis" class="btn btn-primary btn-large">
                            診断を開始する
                        </button>
                    </div>
                </section>

                <!-- 診断フォームセクション -->
                <section id="diagnosis-form" class="section" style="display: none;">
                    <div class="form-container">
                        <div class="progress-bar">
                            <div class="progress" id="progress"></div>
                        </div>
                        
                        <div class="step-indicator">
                            <span class="current-step" id="current-step">1</span> / 
                            <span class="total-steps" id="total-steps">8</span>
                        </div>

                        <form id="diagnosis-questions">
                            <!-- 質問1: 基本情報 -->
                            <div class="question-group" data-step="1">
                                <h3>基本情報</h3>
                                <div class="question">
                                    <label>性別</label>
                                    <div class="radio-group">
                                        <input type="radio" id="gender-male" name="gender" value="male">
                                        <label for="gender-male">男性</label>
                                        <input type="radio" id="gender-female" name="gender" value="female">
                                        <label for="gender-female">女性</label>
                                    </div>
                                </div>
                                <div class="question">
                                    <label for="height">身長 (cm)</label>
                                    <input type="number" id="height" name="height" min="140" max="200" required>
                                </div>
                                <div class="question">
                                    <label for="weight">体重 (kg)</label>
                                    <input type="number" id="weight" name="weight" min="40" max="120" required>
                                </div>
                            </div>

                            <!-- 質問2: ゴルフ経験 -->
                            <div class="question-group" data-step="2" style="display: none;">
                                <h3>ゴルフ経験</h3>
                                <div class="question">
                                    <label>ゴルフ歴</label>
                                    <select name="experience" required>
                                        <option value="">選択してください</option>
                                        <option value="beginner">初心者（1年未満）</option>
                                        <option value="intermediate">中級者（1-5年）</option>
                                        <option value="advanced">上級者（5年以上）</option>
                                    </select>
                                </div>
                                <div class="question">
                                    <label for="handicap">ハンディキャップ</label>
                                    <input type="number" id="handicap" name="handicap" min="0" max="50">
                                </div>
                            </div>

                            <!-- 質問3: スイング特性 -->
                            <div class="question-group" data-step="3" style="display: none;">
                                <h3>スイング特性</h3>
                                <div class="question">
                                    <label>スイングスピード（7番アイアン）</label>
                                    <select name="swing_speed" required>
                                        <option value="">選択してください</option>
                                        <option value="slow">遅い（30m/s未満）</option>
                                        <option value="average">普通（30-37m/s）</option>
                                        <option value="fast">速い（37m/s以上）</option>
                                    </select>
                                </div>
                                <div class="question">
                                    <label>弾道の高さ</label>
                                    <select name="ball_height" required>
                                        <option value="">選択してください</option>
                                        <option value="low">低い</option>
                                        <option value="medium">普通</option>
                                        <option value="high">高い</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 質問4: ミスの傾向 -->
                            <div class="question-group" data-step="4" style="display: none;">
                                <h3>ミスの傾向</h3>
                                <div class="question">
                                    <label>よくあるミス</label>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="miss-slice" name="miss_tendency" value="slice">
                                        <label for="miss-slice">スライス</label>
                                        <input type="checkbox" id="miss-hook" name="miss_tendency" value="hook">
                                        <label for="miss-hook">フック</label>
                                        <input type="checkbox" id="miss-top" name="miss_tendency" value="top">
                                        <label for="miss-top">トップ</label>
                                        <input type="checkbox" id="miss-fat" name="miss_tendency" value="fat">
                                        <label for="miss-fat">ダフリ</label>
                                    </div>
                                </div>
                            </div>

                            <!-- 質問5: 重視するポイント -->
                            <div class="question-group" data-step="5" style="display: none;">
                                <h3>重視するポイント</h3>
                                <div class="question">
                                    <label>最重要視する要素</label>
                                    <select name="priority" required>
                                        <option value="">選択してください</option>
                                        <option value="distance">飛距離</option>
                                        <option value="accuracy">正確性</option>
                                        <option value="forgiveness">ミスへの寛容性</option>
                                        <option value="feel">打感</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 質問6: 予算 -->
                            <div class="question-group" data-step="6" style="display: none;">
                                <h3>予算</h3>
                                <div class="question">
                                    <label>アイアンセットの予算</label>
                                    <select name="budget" required>
                                        <option value="">選択してください</option>
                                        <option value="low">10万円未満</option>
                                        <option value="medium">10-20万円</option>
                                        <option value="high">20万円以上</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 質問7: ブランド志向 -->
                            <div class="question-group" data-step="7" style="display: none;">
                                <h3>ブランド志向</h3>
                                <div class="question">
                                    <label>好みのメーカー（複数選択可）</label>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="brand-taylor" name="preferred_brands" value="taylor">
                                        <label for="brand-taylor">テーラーメイド</label>
                                        <input type="checkbox" id="brand-callaway" name="preferred_brands" value="callaway">
                                        <label for="brand-callaway">キャロウェイ</label>
                                        <input type="checkbox" id="brand-ping" name="preferred_brands" value="ping">
                                        <label for="brand-ping">PING</label>
                                        <input type="checkbox" id="brand-mizuno" name="preferred_brands" value="mizuno">
                                        <label for="brand-mizuno">ミズノ</label>
                                        <input type="checkbox" id="brand-titleist" name="preferred_brands" value="titleist">
                                        <label for="brand-titleist">タイトリスト</label>
                                    </div>
                                </div>
                            </div>

                            <!-- 質問8: その他の条件 -->
                            <div class="question-group" data-step="8" style="display: none;">
                                <h3>その他の条件</h3>
                                <div class="question">
                                    <label>クラブの見た目</label>
                                    <select name="appearance" required>
                                        <option value="">選択してください</option>
                                        <option value="traditional">トラディショナル</option>
                                        <option value="modern">モダン</option>
                                        <option value="no_preference">こだわりなし</option>
                                    </select>
                                </div>
                                <div class="question">
                                    <label for="additional_info">その他の要望（任意）</label>
                                    <textarea id="additional_info" name="additional_info" rows="3" placeholder="特別な要望があれば記入してください"></textarea>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="button" id="prev-btn" class="btn btn-secondary" style="display: none;">前へ</button>
                                <button type="button" id="next-btn" class="btn btn-primary">次へ</button>
                                <button type="submit" id="submit-btn" class="btn btn-primary" style="display: none;">診断結果を見る</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- 結果表示セクション -->
                <section id="result-section" class="section" style="display: none;">
                    <div class="result-container">
                        <h2>診断結果</h2>
                        <div id="result-content">
                            <!-- 結果がここに表示される -->
                        </div>
                        <div class="result-actions">
                            <button id="save-result" class="btn btn-secondary">結果を保存</button>
                            <button id="retry-diagnosis" class="btn btn-outline">再診断</button>
                            <button id="share-result" class="btn btn-outline">結果を共有</button>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- フッター -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-links">
                        <a href="./terms.html">利用規約</a>
                        <a href="./privacy.html">プライバシーポリシー</a>
                        <a href="./contact.html">お問い合わせ</a>
                    </div>
                    <div class="footer-copy">
                        <p>&copy; 2024 appadaycreator. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- 読み込み中オーバーレイ -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <p>診断中...</p>
    </div>

    <!-- JavaScript -->
    <script src="./assets/js/utils.js"></script>
    <script src="./assets/js/i18n.js"></script>
    <script src="./assets/js/supabase-client.js"></script>
    <script src="./assets/js/diagnosis.js"></script>
    <script src="./assets/js/app.js"></script>
    
    <!-- Service Worker登録 -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>